<!DOCTYPE html>
<html>
<head>
    <title>Enterprise CMS API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQRSURBVFhH7ZdNbBNXEMffmxgSbGJjJ7ZjJ85HE1pKS9pKfUEVVUWqFKQ2VVu1TUBBVW09tFLVqj1w4NCTxKGXcumlH1xAQkIcOHKAA+rBFyQuHKq2nARCE9q0LfgcHDuOY8fOx8v/vdl3b9fez7xJCHv5yZs3M/Nmf7t+O7vzgfhjIv7YiD824o+N+GMj/tiIPzbij434YyP+2Ig/NuKPjfhjI/7YiD824o+N+GMj/tiIPzbij434YyP+2Ig/NuKPjfhjI/7YiD824o+N+GMj/tiIPzbij434YyP+2Ig/NuKPjfhjI/7YiD824o+N+GMj/tiIPzbij4..." />
    <style>
        html { 
            box-sizing: border-box; 
            overflow: -moz-scrollbars-vertical; 
            overflow-y: scroll; 
        }
        *, *:before, *:after { 
            box-sizing: inherit; 
        }
        body { 
            margin: 0; 
            background: #f8f9fa;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 300;
        }
        
        .header p {
            margin: 0.5rem 0 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .features {
            background: white;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .features h3 {
            margin: 0 0 1rem 0;
            color: #333;
            font-size: 1.2rem;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .feature-item {
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #667eea;
        }
        
        .feature-item strong {
            color: #667eea;
        }
        
        #swagger-ui {
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üöÄ Enterprise CMS API</h1>
        <p>High-performance, scalable Content Management System</p>
        <p>Production-ready with PostgreSQL, Tantivy, biscuit-auth & WebAuthn</p>
    </div>
    
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 1rem;">
        <div class="features">
            <h3>üè¢ Enterprise Features</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <strong>üíæ Database:</strong> PostgreSQL + Diesel ORM with connection pooling
                </div>
                <div class="feature-item">
                    <strong>üîê Security:</strong> biscuit-auth + WebAuthn + JWT multi-factor authentication
                </div>
                <div class="feature-item">
                    <strong>üîç Search:</strong> Tantivy full-text search with advanced indexing
                </div>
                <div class="feature-item">
                    <strong>üöÄ Cache:</strong> Redis distributed caching with clustering
                </div>
                <div class="feature-item">
                    <strong>üìä Monitoring:</strong> Prometheus metrics + OpenTelemetry tracing
                </div>
                <div class="feature-item">
                    <strong>‚ö° Performance:</strong> 5000+ RPS, horizontal scaling ready
                </div>
            </div>
        </div>
    </div>
    
    <div id="swagger-ui"></div>
    
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    <script>
    window.onload = function() {
        SwaggerUIBundle({
            url: '/api/docs/openapi.json',
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            defaultModelsExpandDepth: 1,
            defaultModelExpandDepth: 1,
            docExpansion: "list",
            filter: true,
            showExtensions: true,
            showCommonExtensions: true,
            tryItOutEnabled: true,
            requestInterceptor: function(request) {
                // Add API key if available
                const apiKey = localStorage.getItem('cms-api-key');
                if (apiKey) {
                    request.headers['Authorization'] = 'Bearer ' + apiKey;
                }
                return request;
            }
        });
    };
    </script>
</body>
</html>
